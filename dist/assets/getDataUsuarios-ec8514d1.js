import{r as c,i as p,I as n,H as u}from"./index-cdc5c833.js";const B=()=>{const l=c(null),d=c(!1),g=c(!1),e=p(),a=localStorage.getItem("token"),h=localStorage.getItem("idusuario");return{getListUsers:async()=>{const o={method:"get",url:`${u}usuarios`,headers:{Authorization:`Bearer ${a}`}};try{const{data:t,status:s}=await n(o);return{data:t,status:s}}catch(t){return console.log(t),t.response.status==401&&e.push("/login"),{data:[],status:400,error:t.message}}},addUser:async o=>{const t={method:"post",url:`${u}usuarios`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},data:JSON.stringify(o)};console.log(t);try{const{data:s,status:r}=await n(t);return{data:s,status:r}}catch(s){return console.log(s),s.response.status==401&&e.push("/login"),400}},deletUser:async o=>{const t={method:"POST",url:`${u}users/delete`,headers:{Authorization:`Bearer ${a}`},data:{idUser:o}};try{const{data:s,status:r}=await n(t);return{data:s,status:r}}catch(s){return console.log(s),s.response.status==401&&e.push("/login"),[]}},dataAxios:l,isError:d,getMyInfo:async()=>{const o={method:"get",url:`${u}usuario/${h}`,headers:{Authorization:`Bearer ${a}`}};try{const{data:t,status:s}=await n(o);return Array.isArray(t)?t[0]:t}catch(t){return console.log(t),t.response.status==401&&e.push("/login"),{}}},updateMyInfo:async o=>{var s;const t={method:"post",url:`${u}usuario`,headers:{"Content-Type":"application/json",Authoriztion:`Bearer ${a}`},data:JSON.stringify(o)};console.log(t);try{const{data:r,status:i}=await n(t);return i}catch(r){return console.log(r),((s=r.response)==null?void 0:s.status)==401&&e.push("/login"),400}},getUserId:async o=>{const t={method:"get",url:`${u}usuarios/${o}`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}};console.log(t);try{const{data:s,status:r}=await n(t);return{data:s,status:r}}catch(s){return console.log(s),s.response.status==401&&e.push("/login"),{data:[],status:400}}},updateUser:async o=>{const t={method:"post",url:`${u}usuarios`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},data:JSON.stringify(o)};console.log(t);try{const{data:s,status:r}=await n(t);return{data:s,status:r}}catch(s){return console.log(s),s.response.status==401&&e.push("/login"),{data:[],status:400}}},isloading:g,boletinadoschange:async(o,t)=>{const s={method:"get",url:`${u}boletinados?nombreEntidad=usuario&pk=${o}&valor=${t}`,headers:{Authorization:`Bearer ${a}`}};try{const{data:r,status:i}=await n(s);return i}catch(r){return console.log(r),r.response.status==401&&e.push("/login"),400}}}};export{B as u};
