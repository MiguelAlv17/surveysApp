import{u as $,a as D,r as v,o as N,b as I,c as p,d as m,e,f as l,w as _,n as g,g as f,F as L,h as b}from"./index-cdc5c833.js";const M={class:"modern-navbar"},U={class:"navbar-container"},V={class:"navbar-nav"},F={key:0,class:"nav-item"},P={key:1,class:"nav-item"},z={key:2,class:"nav-item"},O={class:"dropdown-menu"},T={class:"main-content"},A={__name:"Navbar",setup(j){const C=$(),y=D(),i=v(null),r=v(!1),c=v(null),t=v("inicio"),x=[{route:"home",selection:"inicio"},{route:"responding",selection:"responding"},{route:"surveys",selection:"surveys"},{route:"users",selection:"users"},{route:"micuenta",selection:"cuenta"}],E=n=>{console.log(n);const s=x.find(o=>{const d=n.includes(o.route);return console.log(`${d} | ${o.route}`),d});console.log(s),t.value=s?s.selection:"inicio"},u=n=>{t.value=n,a()},B=()=>{r.value=!r.value,u("cuenta")},a=()=>{r.value=!1},R=n=>{setTimeout(()=>{var s;(s=i.value)!=null&&s.contains(document.activeElement)||a()},150)},S=()=>{a(),C.logout()},k=n=>{i.value&&!i.value.contains(n.target)&&a()};return N(async()=>{c.value=localStorage.getItem("userRole"),E(y.path),document.addEventListener("click",k)}),I(()=>{document.removeEventListener("click",k)}),(n,s)=>{const o=b("router-link"),d=b("router-view");return p(),m(L,null,[e("nav",M,[e("div",U,[s[10]||(s[10]=e("div",{class:"navbar-brand"},[e("div",{class:"brand-icon"},[e("span",{class:"material-icons"},"file_present")]),e("span",{class:"brand-text"},"Encuestas app")],-1)),e("ul",V,[c.value=="asesor"?(p(),m("li",F,[l(o,{to:"/responding",class:g(["nav-link",{active:t.value==="responding"}]),onClick:s[0]||(s[0]=w=>u("responding"))},{default:_(()=>s[3]||(s[3]=[e("span",{class:"nav-icon material-icons"},"newspaper",-1),e("span",{class:"nav-text"},"Encuesta",-1)])),_:1,__:[3]},8,["class"])])):f("",!0),c.value=="administrador"?(p(),m("li",P,[l(o,{to:"/surveys",class:g(["nav-link",{active:t.value==="surveys"}]),onClick:s[1]||(s[1]=w=>u("surveys"))},{default:_(()=>s[4]||(s[4]=[e("span",{class:"nav-icon material-icons"},"file_present",-1),e("span",{class:"nav-text"},"Encuestas",-1)])),_:1,__:[4]},8,["class"])])):f("",!0),c.value=="administrador"?(p(),m("li",z,[l(o,{to:"/users",class:g(["nav-link",{active:t.value==="users"}]),onClick:s[2]||(s[2]=w=>u("users"))},{default:_(()=>s[5]||(s[5]=[e("span",{class:"nav-icon material-icons"},"groups",-1),e("span",{class:"nav-text"},"Usuarios",-1)])),_:1,__:[5]},8,["class"])])):f("",!0),e("li",{class:"nav-item dropdown",ref_key:"dropdownRef",ref:i},[e("button",{class:g(["nav-link dropdown-toggle",{active:t.value==="cuenta"||r.value}]),"data-bs-toggle":"dropdown",onClick:B,onBlur:R},s[6]||(s[6]=[e("span",{class:"nav-icon material-icons"},"account_circle",-1),e("span",{class:"nav-text"},"Mi Perfil",-1)]),34),e("div",O,[l(o,{class:"dropdown-item",to:"/myaccount/profile",onClick:a},{default:_(()=>s[7]||(s[7]=[e("span",{class:"material-icons"},"account_box",-1),e("span",null,"Mi Perfil",-1)])),_:1,__:[7]}),s[9]||(s[9]=e("div",{class:"dropdown-divider"},null,-1)),e("button",{class:"dropdown-item logout-item",onClick:S},s[8]||(s[8]=[e("span",{class:"material-icons"},"logout",-1),e("span",null,"Cerrar Sesi√≥n",-1)]))])],512)])])]),e("main",T,[l(d)])],64)}}};export{A as default};
